<div class="bg-hero text-white text-center py-5 rounded mb-4">
  <div class="py-4">
    <div style="font-size: 4rem;" class="mb-2">‚≠ê</div>
    <h1 class="display-4 fw-bold mb-3">Euro<span class="text-gold">Stats</span></h1>
    <p class="lead mb-4" style="opacity: 0.85;"><%= t('home.subtitle') %></p>
    <div class="d-flex justify-content-center flex-wrap">
      <%= link_to frequencies_draws_path, class: 'btn btn-gold btn-lg m-1' do %>
        <i class="fa-solid fa-chart-line me-2"></i><%= t('home.statistics_btn') %>
      <% end %>
      <%= link_to draws_path, class: 'btn btn-outline-light btn-lg m-1' do %>
        <i class="fa-solid fa-list me-2"></i><%= t('home.results_btn') %>
      <% end %>
    </div>
  </div>
</div>

<div class="row mb-5">
  <div class="col-6 col-md-3 mb-3">
    <div class="card border-0 shadow-sm text-center h-100">
      <div class="card-body">
        <div class="h2 fw-bold text-primary mb-0"><%= @draw_count %></div>
        <small class="text-muted"><%= t('home.draws_analyzed') %></small>
      </div>
    </div>
  </div>
  <div class="col-6 col-md-3 mb-3">
    <div class="card border-0 shadow-sm text-center h-100">
      <div class="card-body">
        <div class="h2 fw-bold text-success mb-0"><%= @won_draw_count %></div>
        <small class="text-muted"><%= t('home.draws_won') %></small>
      </div>
    </div>
  </div>
  <div class="col-6 col-md-3 mb-3">
    <div class="card border-0 shadow-sm text-center h-100">
      <div class="card-body">
        <div class="h2 fw-bold text-info mb-0"><%= number_to_percentage(@won_draw_percentage, precision: 1) %></div>
        <small class="text-muted"><%= t('home.win_rate') %></small>
      </div>
    </div>
  </div>
  <div class="col-6 col-md-3 mb-3">
    <div class="card border-0 shadow-sm text-center h-100">
      <div class="card-body">
        <div class="h2 fw-bold text-warning mb-0"><%= @winners_count %></div>
        <small class="text-muted"><%= t('home.total_winners') %></small>
      </div>
    </div>
  </div>
</div>

<% if @last_draw %>
  <div class="card border-0 shadow mb-5">
    <div class="card-header bg-white d-flex justify-content-between align-items-center py-3">
      <h5 class="mb-0 fw-bold"><i class="fa-solid fa-trophy text-warning me-2"></i><%= t('home.last_draw') %></h5>
      <span class="badge bg-light text-dark"><%= l(@last_draw.date, format: :long) %></span>
    </div>
    <div class="card-body text-center py-4">
      <div class="d-flex justify-content-center flex-wrap mb-4">
        <% @last_draw.numbers.each do |n| %>
          <div class="m-1"><%= render NumberBallComponent.new(number: n, size: :xl) %></div>
        <% end %>
        <% @last_draw.stars.each do |s| %>
          <div class="m-1"><%= render StarBallComponent.new(number: s, size: :xl) %></div>
        <% end %>
      </div>
      <div class="row justify-content-center">
        <div class="col-auto text-center px-4">
          <div class="h4 fw-bold mb-0"><%= @last_draw.winners %></div>
          <small class="text-muted"><%= @last_draw.winners > 1 ? t('home.winners') : t('home.winner') %></small>
        </div>
        <div class="col-auto text-center px-4">
          <div class="h4 fw-bold text-success mb-0" title="<%= number_with_delimiter(@last_draw.prize_amount) %> ‚Ç¨">
            <%= number_to_human(@last_draw.prize_amount, locale: :fr) %> ‚Ç¨
          </div>
          <small class="text-muted"><%= t('home.jackpot') %></small>
        </div>
      </div>
    </div>
  </div>
<% end %>

<h2 class="text-center fw-bold mb-4"><%= t('home.features_title') %></h2>
<div class="row mb-5">
  <div class="col-md-4 mb-3">
    <div class="card border-0 shadow-sm h-100 text-center">
      <div class="card-body">
        <div style="font-size: 3rem;" class="mb-3">üìä</div>
        <h5 class="fw-bold"><%= t('home.feature_stats_title') %></h5>
        <p class="text-muted small mb-0"><%= t('home.feature_stats_desc') %></p>
      </div>
    </div>
  </div>
  <div class="col-md-4 mb-3">
    <div class="card border-0 shadow-sm h-100 text-center">
      <div class="card-body">
        <div style="font-size: 3rem;" class="mb-3">üî•</div>
        <h5 class="fw-bold"><%= t('home.feature_hot_title') %></h5>
        <p class="text-muted small mb-0"><%= t('home.feature_hot_desc') %></p>
      </div>
    </div>
  </div>
  <div class="col-md-4 mb-3">
    <div class="card border-0 shadow-sm h-100 text-center">
      <div class="card-body">
        <div style="font-size: 3rem;" class="mb-3">üé≤</div>
        <h5 class="fw-bold"><%= t('home.feature_generator_title') %></h5>
        <p class="text-muted small mb-0"><%= t('home.feature_generator_desc') %></p>
      </div>
    </div>
  </div>
</div>

<div class="bg-primary text-white text-center p-5 rounded">
  <h3 class="fw-bold mb-2"><%= t('home.cta_title') %></h3>
  <p class="mb-4" style="opacity: 0.85;"><%= t('home.cta_subtitle') %></p>
  <%= link_to frequencies_draws_path, class: 'btn btn-gold btn-lg' do %>
    <i class="fa-solid fa-rocket me-2"></i><%= t('home.explore_btn') %>
  <% end %>
</div>
